<body>


    <div id="contenedor">
        <!--<a href="#"><img id="logo" src="img/logo.png" alt="logotipo"></a>-->
        <section id="registro">
            <div class="text-center">
                <i class="fas fa-user-edit icono-alumno"></i>
            </div>
            <h1 class="mt-3">Regístra tu Empresa</h1>

            <form [formGroup]="formularioEmpresa" (ngSubmit)="registrar()">
                <div class="mb-2">
                    <input [ngClass]="{'form-input-error':name.invalid && (name.dirty || name.touched)}" type="text" formControlName="name" placeholder="Nombre de tu empresa">
                    <div *ngIf="name.invalid && (name.dirty || name.touched)" class="form-error">
                        <span *ngIf="name.errors.required">Campo obligatorio</span>
                    </div>
                </div>

                <div class="mb-2">
                    <input [ngClass]="{'form-input-error':email.invalid && (email.dirty || email.touched)}" type="text" formControlName="email" placeholder="Correo electronico">
                    <div *ngIf="email.invalid && (email.dirty || email.touched)" class="form-error">
                        <span *ngIf="email.errors.required">Campo obligatorio</span>
                        <span *ngIf="email.errors.pattern">Ingrese un correo válido</span>
                    </div>
                    <div *ngIf="emailDuplicado" class="form-error">
                        <span>Error: Email ya registrado</span>
                    </div>
                </div>
                <div class="mb-2">
                    <input [ngClass]="{'form-input-error':direction.invalid && (direction.dirty || direction.touched)}" type="text" formControlName="direction" placeholder="Direccion">
                    <div *ngIf="direction.invalid && (direction.dirty || direction.touched)" class="form-error">
                        <span *ngIf="direction.errors.required">Campo obligatorio</span>
                    </div>
                </div>

                <div class="mb-2">
                    <input [ngClass]="{'form-input-error':phone.invalid && (phone.dirty || phone.touched)}" type="text" formControlName="phone" placeholder="Telefono">
                    <div *ngIf="phone.invalid && (phone.dirty || phone.touched)" class="form-error">
                        <span *ngIf="phone.errors.required">Campo obligatorio</span>
                        <span *ngIf="phone.errors.pattern">Ingrese un Telefono valido, Ejemplo: 1234-5678</span>
                    </div>
                </div>
                <div class="mb-2">
                    <select formControlName="departament" [ngClass]="{'form-input-error':departament.invalid && (departament.dirty || departament.touched)}">
                    <option value="-">Seleccione Departamento</option>
                    <option *ngFor="let departamento of departamentos" value="{{departamento}}">{{departamento}}</option>
                </select>
                    <div *ngIf="departament.invalid && (departament.dirty || departament.touched)" class="form-error">
                        <span *ngIf="departament.errors.required">Campo obligatorio</span>
                        <span *ngIf="departament.errors.valueRestricted">Seleccione un departamento, por favor</span>
                    </div>
                    <!--<div>{{departament.errors | json}}</div>-->
                </div>
                <div class="mb-2">
                    <input [ngClass]="{'form-input-error':city.invalid && (city.dirty || city.touched)}" type="text" formControlName="city" placeholder="Ciudad">
                    <div *ngIf="city.invalid && (city.dirty || city.touched)" class="form-error">
                        <span *ngIf="city.errors.required">Campo obligatorio</span>
                    </div>
                </div>


                <div class="mb-2">
                    <input [ngClass]="{'form-input-error':password.invalid && (password.dirty || password.touched)}" type="password" #inputPassword formControlName="password" placeholder="Contraseña">
                    <div *ngIf="password.invalid && (password.dirty || password.touched)" class="form-error">
                        <span *ngIf="password.errors.required">Campo obligatorio</span>
                        <span *ngIf="password.errors.minlength">La contraseña debe ser mínimo de 8 caracteres</span>
                    </div>
                </div>
                <div class="mb-2">
                    <input [ngClass]="{'form-input-error':samePassword.invalid && (samePassword.dirty || samePassword.touched)}" type="password" #confirmPassword formControlName="samePassword" placeholder="Confirmar Contraseña">
                    <div *ngIf="samePassword.invalid && (samePassword.dirty || samePassword.touched)" class="form-error">
                        <span *ngIf="samePassword.errors.required">Campo obligatorio</span>
                    </div>
                    <div *ngIf="!passwordEqual" class="form-error">
                        <span>Error: Contraseñas no coinciden</span>
                    </div>
                    <div class="pt-2 pl-2"><input type="checkbox" class="mr-2" (click)="mostrarPasswords(inputPassword, confirmPassword)"><b>Mostrar contraseña</b></div>
                </div>
                <!-- Boton registrar -->
                <button type=submit [disabled]="formularioEmpresa.invalid" value="Registrar">Registrarme</button>

            </form>

            <div class="mt-2"><a class="primary-link" href="/home">Regresar a Inicio<i
            class="fas fa-arrow-circle-left ml-1"></i></a></div>
        </section>
    </div>

</body>